<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- $Id$ -->
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>Speed Tables - STDisplay - Display Functions for the World Wide Web</title>
  <link rel="stylesheet" href="manual.css">
</head>
<body>
<!-- %BEGIN LINKS% -->
<div class=links><a href="ch09.html">Back</a><a href=index.html>Index</a><a href="ch11.html">Next</a></div>
<!-- %END LINKS% -->
<H2> 10 -  STDisplay - Speed Table Display Functions for the World Wide Web</H2>
<p>From the speed table API, <i>stDisplay</i>, speed table display functions for the world wide web. This code is derived from Rivet's <b>diodisplay.tcl</b>.</p>
<pre>
set display [::STDisplay #auto ?-confvar value? ... \
    -table table ?-keyfields key_list?]
</pre>
<p>or</p>
<pre>
set display [::STDisplay #auto ?-confvar value? ... \
    -uri uri]
</pre>
<p>One of <tt>-table</tt> or <tt>-uri</tt> must be provided.</p>
<p>Options:</p>
<dl>
<dt>-table<dd>Use already opened table.
<p>If the table isn't STAPI-compatible it will use ::stapi::extend::connect to wrap it and in this case <tt>keyfields</tt> must be provided.</p>
<dt>-uri<dd>Use ::stapi::connect to connect to a ctable using a URI.
<p>Any valid STAPI URI can be used.</p>
<dt>-debug 0-9</dd>
<p>Set debug level</p>
<dt>-csvfile filename<dd>
<p>Name of CSV file to generate.</p>
<dt>-csvredirect ?0|1?</dd>
<p>If enabled, then the CSV file is downloaded immediately using a redirect.</p>
<dt>-key field_name<dd>
<p>Field to use as a key</p>
<dt>-title string<dd>
<p>Title of table.</p>
<dt>-arrows {up down}<dd>
<p>Symbols or HTML fragments to use for ascending and descending sort of a table column.</p>
<p>-pagesize integer</p>
<p>Number of rows displayed per page.</p>
<dt>-functions {Search List Add Edit Delete Details}<dd>
<p>Functions shown on the top of the display.</p>
<dt>-rowfunctions {Details Edit Delete}<dd>
<p>Functions shown at the end of the row.</p>
</dl>

<H3>Methods for $display</H3>
<dl>
<dt>$display show<dd>
<p>Render all HTML for the page. Destroys $display.</p>
<dt>$display destroy<dd>
<p>Destroys $display</p>
<dt>$display state<dd>
<p>Returns a list of name-value pairs that represent the current state of the query, as CGI variables, for populating external links. The counterpart to hidden</p>
<dt>$display functions {?Add? ?Show? ...}<dd>
<p>Equivalent to the -functions configuration variable - enable global functions, to control the functions available in the search bar. The possible functions are <i>Search</i>, <i>List</i>, <i>Add</i>, <i>Edit</i>, <i>Delete</i> and <i>Details</i>.</p>
<dt>$display rowfunctions {?Edit? ?Delete? ...}<dd>
<p>Equivalent to the -rowfunctions configuration variable - enable row functions, to control the functions available in the search bar. The possible functions are <i>Edit</i>, <i>Delete</i> and <i>Details</i>.</p>
<dt>$display field name ?-configvar value?...<dd>
<p>Define a field</p>
<dt>$display alias name ?field?<dd>
<p>Define an alias for an existing field. Aliases are used to create multiple filtered columns based on the same field.</p>
<dt>$display filter name ?proc? ?column?<dd>
<p>Filter column <i>name</i> through [proc $<i>value_of_field</i> ...] before displaying. If any columns are provided the values of these columns will be appended to the filter.</p>
<dt>$display csvfilter name ?proc? ?column?<dd>
<p>Filter column <i>name</i> through [proc $<i>value_of_field</i>] on generating a CSV file, like filter.</p>
<dt>$display unfilter name ?proc?<dd>
<p>Filter entered text through [$proc text] before using to search table. This allows the user to enter (for example) a device name for a field that expects an IP address.</p>
<dt>$display order name $order<dd>
<p>Set sort order for field.</p>
<dt>$display case name $case<dd>
<p>Set whether the column can be matched uppercase or lowercase when doing a case-independent match.</p>
<dt>$display hovertext name $text<dd>
<p>Set text to be displayed when hovering the cursor over the title of the column.</p>
<dt>$display blankval name $blank<dd>
<p>Value to treat as a null value and display as an empty cell.</p>
<dt>$display limit $limit<dd>
<p>Set search terms to limit the displayed portion of the ctable. The limit is a list of {column_name value ?column_name value?}.</p>
<dt>$display attributes name $attribute_list<dd>
<p>Set attributes (eg "bgcolor=blue") for field</p>
<dt>$display hidden $cgivar $value<dd>
<p>This is used to pass any additional CGI variables the page will require through the links generated by STDisplay. This method may be invoked for each value</p>
</dl>
<!-- %BEGIN LINKS% -->
<div class=links><a href="ch09.html">Back</a><a href=index.html>Index</a><a href="ch11.html">Next</a></div>
<!-- %END LINKS% -->
</BODY>
</HTML>
